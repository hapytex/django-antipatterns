<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=hapytex data-description="Support me on Buy me a coffee!" data-message="Thank you for visiting." data-color=#e9c012 data-position=Right data-x_margin=18 data-y_margin=18></script><meta name=keywords content="Django,web,programming,antipattern,pattern,troubleshooting,software design,redirect,reverse,django-urls,django-views "><meta name=author content="Willem Van Onsem"><meta name=description content="A set of Django (anti)patterns: patterns and things to avoid when building a web application with Django."><meta name=twitter:image:src content="https://repository-images.githubusercontent.com/257009680/7a954900-2f5d-11eb-8d0a-c8af0596107f"><meta name=og:title content="reverse and redirect"><meta name=og:image content="https://repository-images.githubusercontent.com/257009680/7a954900-2f5d-11eb-8d0a-c8af0596107f"><meta name=og:image:alt content="A prohibition sign in the Django color scheme."><meta name=og:image:type content="image/png"><meta name=og:type content="website"><link rel=stylesheet href=https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/template.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/default.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css><script src=https://code.jquery.com/jquery-3.5.1.min.js></script><script src=https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.cookie.js></script><script src=https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.hoverIntent.minified.js></script><script src=https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.dcjqaccordion.2.7.min.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link href=/style.css rel=stylesheet><link href=https://cdn.rawgit.com/ryangrose/easy-pandoc-templates/948e28e5/css/elegant_bootstrap.css rel=stylesheet><script src=https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/jquery.sticky-kit.js></script><script data-ad-client=ca-pub-9962024266760159 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script src=/script.js></script><link rel=icon href=/favicon.ico type=image/x-icon><meta name=generator content="pandoc"><title>reverse and redirect &#8249; difference-between &#8249; Django antipatterns</title>
<link rel=stylesheet href></head><body><a class=github-fork-ribbon href=https://github.com/hapytex/django-antipatterns data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a><div class="navbar navbar-static-top"><div class=navbar-inner><div class=container><nav aria-label=section><ol class=breadcrumb><li class=breadcrumb-item><a href=/><i class="fas fa-home"></i></a><li class=breadcrumb-item><a href=/difference-between.html><i class="fas fa-adjust"></i>&nbsp;
difference-between</a><li class="breadcrumb-item active" aria-current=page><code>reverse</code> and <code>redirect</code></ol></nav><ul class="nav pull-right doc-info"></ul></div></div></div><article><div class=container><div class=row><div class=span12><p>The <a href=https://docs.djangoproject.com/en/dev/ref/urlresolvers/#reverse><strong><code>reverse(…)</code></strong> <sup>[Django-doc]</sup></a> and <a href=https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#redirect><strong><code>redirect(…)</code></strong> <sup>[Django-doc]</sup></a> functions are different for a number of reasons. The first one is that <code>reverse(…)</code> returns a <em>string</em> that is the <em>path</em> to visit the view with the given name (and optional URL parameters). <code>redirect(…)</code> on the other hand returns a <a href=https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponseRedirect><strong><code>HttpResponseRedirect</code></strong> object <sup>[Django-doc]</sup></a>. This object can be returned by the view as HTTP response. If the browser did not use Ajax or some other asynchronous tool, this HTTP response will normally trigger the browser to visit the page specified in the HTTP response. Since certain redirects can be permanent, <code>redirect(…)</code> also has a special parameter <code>permanent=…</code> such that <code>redirect(…)</code> will return a <code>HttpResponseRedirect</code> in case <code>permanent=False</code> which is the default, or a <a href=https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponsePermanentRedirect><strong><code>HttpResponsePermanentRedirect</code></strong> <sup>[Django-doc]</sup></a> for <code>permanent=True</code>. In case the redirect is permanent, the browser can cache the redirect, and might not bother the webserver anymore by visiting the view that returned the permanent redirect earlier.<p>Another difference is that the <code>reverse(…)</code> uses two parameters <code>args=…</code> and <code>kwargs=…</code> to fill in the values for the <em>URL parameters</em>. This is different for <code>redirect(…)</code> where one passes the positional and named parameters just as positional and named parameters. This thus means that we call <code>redirect('<i>some_view</i>', <i>some_parameter</i>, name=<i>other_parameter</i>)</code>, we get a <code>HttpResponseRedirect</code> object with as path, the string that we can obtain by calling <code>reverse('<i>some_view</i>', args=(<i>some_parameter</i>,), kwargs={'name': <i>other_parameter</i>})</code>.<p>A <code>redirect(…)</code> does not per se works with a view name. Indeed, if you pass a URL to the <code>redirect(…)</code> function, like <code>redirect('/foo/bar/qux/')</code>, it will construct a <code>HttpResponseRedirect</code> that redirects to the given URL <code>/foo/bar/qux</code>, it will fail to find a view with that name and thus fallback on a HTTP redirect response with the given path. This is different for <code>reverse(…)</code> that only constructs URLs based on the name of the view, and its parameters. If no such parameter can be found, the <code>reverse(…)</code> function will raise a <a href=https://docs.djangoproject.com/en/dev/ref/exceptions/#noreversematch><strong><code>NoReverseMatch</code></strong> exception <sup>[Django-doc]</sup></a>.<p>Finally <code>redirect(…)</code> also accepts a model object that has a <a href=https://docs.djangoproject.com/en/3.2/ref/models/instances/#get-absolute-url><strong><code>.get_absolute_url()</code></strong> method <sup>[Django-doc]</sup></a>. In case one passes such model as first parameter, it will return a HTTP redirect response that redirects the browser to the URL constructed by that <code>.get_absolute_url()</code> method.<p>Sometimes programmers write <code>redirect(reverse('<i>some_view</i>', kwargs={'<i>some_parameter'</i>'='<i>some_value</i>'}))</code>. This makes not much sense: <code>redirect</code> indeed will generate a redirect response if it is given a URL, but we can omit the <code>reverse(…)</code> call and work with <code>redirect('<i>some_view</i>', <i>some_parameter</i>=<i>'some_value'</i>)</code>.<h1 id=summary>Summary</h1><table><col style=width:33%><col style=width:33%><col style=width:33%><thead><tr class=header><th style=text-align:left><th style=text-align:left><a href=https://docs.djangoproject.com/en/dev/ref/urlresolvers/#reverse><code>reverse(…)</code></a><th style=text-align:left><a href=https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#redirect><code>redirect(…)</code></a><tbody><tr class=odd><td style=text-align:left>Return type<td style=text-align:left><code>str</code>ing<td style=text-align:left><code>HttpResponseRedirect</code> or <code>HttpResponsePermanentRedirect</code><tr class=even><td style=text-align:left>URL parameters<td style=text-align:left>through <code>args=…</code> and <code>kwargs=…</code><td style=text-align:left>positional and named parameters<tr class=odd><td style=text-align:left>Input possibilities<td style=text-align:left>only the name of the view<td style=text-align:left>the name of the view, a model object with <code>.get_absolute_url(…)</code>, or a URL/path as input.</table></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>anchors.options={placement:"left",visible:"hover",icon:"¶"},anchors.add("h1,h2,h3")</script></article></body></html>